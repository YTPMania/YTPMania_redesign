"require"in window&&require("discourse/lib/theme-settings-store").registerSettings(47,{featured_category:29,featured_tags:"",topic_source:"latest",top_period:"yearly",randomize_topics:!1,display_when_unfiltered:!0,display_on_categories:!0,display_categories:"",maximum_topic_count:5,scope_to_category:!0,display_mobile:!1}),"define"in window&&define("discourse/theme-47/components/featured-tile",["exports","@ember/component","discourse-common/utils/decorators"],(function(e,t,i){"use strict"
var r,o,s,n,l,a,c
function d(e,t,i,r,o){var s={}
return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(47)
var u=t.default.extend((r=(0,i.default)("topic.thumbnails"),o=(0,i.default)("topic.thumbnails"),s=(0,i.default)("original"),n=(0,i.default)("original"),l=(0,i.default)("topic.thumbnails"),a=(0,i.default)("topic"),d(c={classNames:"featured-tile",responsiveRatios:[1,1.5,2],displayHeight:200,displayWidth:200,srcset(){return this.responsiveRatios.map((e=>`${this.findBest(e*this.displayHeight,e*this.displayWidth).url} ${e}x`)).join(",")},original:e=>e[0],width:e=>e.width,height:e=>e.height,fallbackSrc(){return this.findBest(this.displayWidth,this.displayHeight).url},findBest(e,t){if(!this.topic.thumbnails)return
const i=this.topic.thumbnails.filter((e=>!!e.url&&e.max_width>=t))
return i.lastObject?i.lastObject:this.original},url:e=>e.linked_post_number?e.urlForPostNumber(e.linked_post_number):e.get("lastUnreadUrl")},"srcset",[r],Object.getOwnPropertyDescriptor(c,"srcset"),c),d(c,"original",[o],Object.getOwnPropertyDescriptor(c,"original"),c),d(c,"width",[s],Object.getOwnPropertyDescriptor(c,"width"),c),d(c,"height",[n],Object.getOwnPropertyDescriptor(c,"height"),c),d(c,"fallbackSrc",[l],Object.getOwnPropertyDescriptor(c,"fallbackSrc"),c),d(c,"url",[a],Object.getOwnPropertyDescriptor(c,"url"),c),c))
e.default=u})),"define"in window&&define("discourse/theme-47/components/featured-tiles",["exports","discourse-common/utils/decorators","@ember/component","@ember/runloop","@ember/service"],(function(e,t,i,r,o){"use strict"
var s,n,l,a
function c(e,t,i,r,o){var s={}
return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=require("discourse/lib/theme-settings-store").getObjectForTheme(47),u=d.display_categories.split("|").map((e=>parseInt(e,10))).filter((e=>e)),f=d.featured_tags.split("|").filter(Boolean)
var p=i.default.extend((s=(0,t.observes)("category"),n=(0,t.default)("list.topics"),l=(0,t.default)("site.mobileView","category.id","router.currentRouteName"),c(a={router:(0,o.inject)("router"),isLoading:!0,classNameBindings:"isLoading",init(){this._super(),this.set("isLoading",!0),this.loadTopics()},categoryChanged(){d.scope_to_category&&this.loadTopics()},loadTopics(){const e={period:d.top_period}
f.length&&(e.tags=f),d.featured_category>0&&(e.category=d.featured_category),d.scope_to_category&&this.category&&(e.category=this.category.id),this.store.findFiltered("topicList",{filter:d.topic_source,params:e}).then((e=>{this.set("list",e),(0,r.next)(this,(()=>this.set("isLoading",!1)))}))},filteredTopics(e){if(e)return d.randomize_topics&&(e=function(e){for(let t=(e=[...e]).length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}return e}(e)),e.slice(0,d.maximum_topic_count)},shouldDisplay:(e,t,i)=>!!["discovery.latest","discovery.categories","discovery.category"].includes(i)&&(!(e&&!d.display_mobile)&&(!(!d.display_when_unfiltered||t)||!(!d.display_on_categories||!t)&&(0===u.length||u.includes(t))))},"categoryChanged",[s],Object.getOwnPropertyDescriptor(a,"categoryChanged"),a),c(a,"filteredTopics",[n],Object.getOwnPropertyDescriptor(a,"filteredTopics"),a),c(a,"shouldDisplay",[l],Object.getOwnPropertyDescriptor(a,"shouldDisplay"),a),a))
e.default=p})),"define"in window&&define("discourse/theme-47/discourse/templates/connectors/discovery-list-container-top/featured-tiles",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.createTemplateFactory)({id:null,block:'[[[1,[28,[35,0],null,[["category"],[[33,1]]]]]],[],false,["featured-tiles","category"]]',moduleName:"discourse/theme-47/discourse/templates/connectors/discovery-list-container-top/featured-tiles",isStrictMode:!1})
e.default=i})),"define"in window&&define("discourse/theme-47/connectors/discovery-list-container-top/featured-tiles",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(47)
var t={shouldRender(){let e=window.localStorage.getItem("show_featured_topics_banner")
return"false"===e&&(e=!1),null===e&&(e=!0),e}}
e.default=t})),"define"in window&&define("discourse/theme-47/discourse/templates/connectors/user-preferences-interface/featured-tiles",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.createTemplateFactory)({id:null,block:'[[[10,0],[14,0,"control-group other"],[12],[1,"\\n  "],[10,"label"],[14,0,"control-label"],[12],[1,[28,[35,0],[47,"preference_header"],null]],[13],[1,"\\n\\n  "],[1,[28,[35,1],null,[["labelKey","checked"],[[28,[37,2],[47,"preference_description"],null],[33,3,["show_featured_topics_banner"]]]]]],[1,"\\n"],[13]],[],false,["theme-i18n","preference-checkbox","theme-prefix","model"]]',moduleName:"discourse/theme-47/discourse/templates/connectors/user-preferences-interface/featured-tiles",isStrictMode:!1})
e.default=i})),"define"in window&&define("discourse/theme-47/connectors/user-preferences-interface/featured-tiles",["exports","discourse/models/user"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(47)
var i={shouldRender:e=>e.model.id===t.default.current().id}
e.default=i})),"define"in window&&define("discourse/theme-47/initializers/init-featured-tiles",["exports","discourse/lib/plugin-api","discourse-common/utils/decorators","discourse/models/user"],(function(e,t,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(47)
var o={name:"discourse-featured-tiles",initialize(){(0,t.withPluginApi)("0.8.9",(e=>{var t,o,s,n,l,a,c,d
e.modifyClass("controller:preferences/interface",(t=(0,i.observes)("model.id"),o={pluginId:this.name,updateShowFeaturedTopicsBanner(){this.model.id===r.default.current().id&&this.set("model.show_featured_topics_banner",this.storedFeaturedTopicsValue())},storedFeaturedTopicsValue(){let e=window.localStorage.getItem("show_featured_topics_banner")
return"false"===e&&(e=!1),null===e&&(e=!0),!!e},actions:{save(){this._super(),this.model.id===r.default.current().id&&this.storedFeaturedTopicsValue()!==this.model.show_featured_topics_banner&&(this.model.show_featured_topics_banner?window.localStorage.removeItem("show_featured_topics_banner"):window.localStorage.setItem("show_featured_topics_banner",!1))}}},s=o,n="updateShowFeaturedTopicsBanner",l=[t],a=Object.getOwnPropertyDescriptor(o,"updateShowFeaturedTopicsBanner"),c=o,d={},Object.keys(a).forEach((function(e){d[e]=a[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,n,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,n,d),d=null),o))}))}}
e.default=o})),"define"in window&&define("discourse/theme-47/discourse/templates/components/featured-tile",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.createTemplateFactory)({id:null,block:'[[[10,3],[15,6,[36,0]],[12],[1,"\\n"],[41,[33,2,["thumbnails"]],[[[1,"    "],[10,"img"],[15,"src",[36,3]],[15,"srcset",[36,4]],[15,"width",[36,5]],[15,"height",[36,6]],[14,"loading","lazy"],[14,0,"topic-tile-thumbnail"],[12],[13],[1,"\\n"]],[]],null],[1,"\\n  "],[10,0],[14,0,"topic-info"],[12],[1,"\\n    "],[10,1],[14,0,"topic-title"],[12],[1,[33,2,["title"]]],[13],[1,"\\n    "],[10,1],[14,0,"author"],[12],[1,"\\n"],[6,[39,7],null,[["user"],[[33,2,["creator"]]]],[["default"],[[[[1,"        "],[1,[28,[35,8],[[33,2,["creator"]]],[["imageSize"],["large"]]]],[1,"\\n"]],[]]]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["url","if","topic","fallbackSrc","srcset","width","height","user-link","avatar"]]',moduleName:"discourse/theme-47/discourse/templates/components/featured-tile",isStrictMode:!1})
e.default=i})),"define"in window&&define("discourse/theme-47/discourse/templates/components/featured-tiles",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.createTemplateFactory)({id:null,block:'[[[41,[33,1],[[[1,"  "],[10,0],[14,0,"featured-tiles-container"],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[33,4]],null]],null],null,[[[1,"      "],[1,[28,[35,5],null,[["topic"],[[30,1]]]]],[1,"\\n"]],[1]],null],[1,"  "],[13],[1,"\\n\\n  "],[1,[28,[35,6],null,[["name","tagName","connectorTagName"],["below-featured-tiles","","div"]]]],[1,"\\n"]],[]],null]],["topic"],false,["if","shouldDisplay","each","-track-array","filteredTopics","featured-tile","plugin-outlet"]]',moduleName:"discourse/theme-47/discourse/templates/components/featured-tiles",isStrictMode:!1})
e.default=i}))

//# sourceMappingURL=19311787635a947dbc654c155917b81d415e8606.map?__ws=ytpmania.net
