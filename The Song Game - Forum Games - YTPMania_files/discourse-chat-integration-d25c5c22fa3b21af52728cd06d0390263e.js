define("discourse/plugins/discourse-chat-integration/admin/adapters/channel",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.default)("chat-integration")
e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/adapters/provider",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.default)("chat-integration")
e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/adapters/rule",["exports","admin/adapters/build-plugin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.default)("chat-integration")
e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/chat-integration-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={resource:"admin.adminPlugins",path:"/plugins",map(){this.route("chat-integration",(function(){this.route("provider",{path:"/:provider"})}))}}
e.default=t})),define("discourse/plugins/discourse-chat-integration/admin/components/channel-data",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=(0,n.createTemplateFactory)({id:"EffeZzcI",block:'[[[42,[28,[37,1],[[28,[37,1],[[30,1,["channel_parameters"]]],null]],null],null,[[[41,[51,[30,2,["hidden"]]],[[[1,"    "],[10,0],[14,0,"channel-info"],[12],[1,"\\n      "],[10,1],[14,0,"field-name"],[12],[1,"\\n        "],[1,[28,[35,3],[[28,[37,4],["chat_integration.provider.",[30,3,["provider"]],".param.",[30,2,["key"]],".title"],null]],null]],[1,":\\n      "],[13],[1,"\\n      "],[10,1],[14,0,"field-value"],[12],[1,[28,[35,5],[[30,3,["data"]],[30,2,["key"]]],null]],[13],[1,"\\n      "],[10,"br"],[12],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null]],[2]],null]],["@provider","param","@channel"],false,["each","-track-array","unless","i18n","concat","get"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/channel-data.hbs",isStrictMode:!1})
var a=(0,t.setComponentTemplate)(r,(0,i.default)())
e.default=a})),define("discourse/plugins/discourse-chat-integration/admin/components/channel-details",["exports","@ember/component","@ember/template-factory","@glimmer/component","discourse/lib/ajax-error","I18n","@ember/service","@ember/object"],(function(e,t,n,i,r,a,l,o){"use strict"
var s,c,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=(0,n.createTemplateFactory)({id:"QKjlPKH/",block:'[[[10,0],[14,0,"channel-details"],[12],[1,"\\n  "],[10,0],[14,0,"channel-header"],[12],[1,"\\n    "],[10,0],[14,0,"pull-right"],[12],[1,"\\n      "],[8,[39,0],null,[["@icon","@title","@label","@action"],["pencil-alt","chat_integration.edit_channel","chat_integration.edit_channel",[28,[37,1],[[30,0],[30,1],[30,2]],null]]],null],[1,"\\n\\n      "],[8,[39,0],null,[["@icon","@title","@label","@action","@class"],["rocket","chat_integration.test_channel","chat_integration.test_channel",[28,[37,1],[[30,0],[30,3],[30,2]],null],"btn-chat-test"]],null],[1,"\\n\\n      "],[8,[39,0],null,[["@icon","@title","@label","@action","@class"],["trash-alt","chat_integration.delete_channel","chat_integration.delete_channel",[28,[37,1],[[30,0],[30,0,["deleteChannel"]],[30,2]],null],"cancel delete-channel"]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,1],[14,0,"channel-title"],[12],[1,"\\n"],[41,[30,2,["error_key"]],[[[1,"        "],[8,[39,0],null,[["@class","@icon","@action"],["delete btn-danger","exclamation-triangle",[28,[37,1],[[30,0],[30,4],[30,2]],null]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[8,[39,3],null,[["@provider","@channel"],[[30,5],[30,2]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"channel-body"],[12],[1,"\\n    "],[10,"table"],[12],[1,"\\n      "],[10,"thead"],[12],[1,"\\n        "],[10,"tr"],[12],[1,"\\n          "],[10,"th"],[12],[1,[28,[35,4],["chat_integration.rule_table.filter"],null]],[13],[1,"\\n          "],[10,"th"],[12],[1,[28,[35,4],["chat_integration.rule_table.category"],null]],[13],[1,"\\n\\n"],[41,[30,0,["siteSettings","tagging_enabled"]],[[[1,"            "],[10,"th"],[12],[1,[28,[35,4],["chat_integration.rule_table.tags"],null]],[13],[1,"\\n"]],[]],null],[1,"\\n          "],[10,"th"],[12],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,"tbody"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,2,["rules"]]],null]],null],null,[[[1,"          "],[8,[39,7],null,[["@rule","@edit","@refresh"],[[30,6],[28,[37,1],[[30,0],[30,7],[30,6],[30,2]],null],[30,8]]],null],[1,"\\n"]],[6]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"channel-footer"],[12],[1,"\\n    "],[10,0],[14,0,"pull-right"],[12],[1,"\\n      "],[8,[39,0],null,[["@class","@icon","@title","@label","@action"],["","plus","chat_integration.create_rule","chat_integration.create_rule",[28,[37,1],[[30,0],[30,9],[30,2]],null]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@editChannel","@channel","@test","@showError","@provider","rule","@editRuleWithChannel","@refresh","@createRule"],false,["d-button","action","if","channel-data","i18n","each","-track-array","rule-row"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/channel-details.hbs",isStrictMode:!1})
let g=(s=class extends i.default{constructor(){super(...arguments),d(this,"dialog",c,this),d(this,"siteSettings",u,this)}deleteChannel(e){this.dialog.deleteConfirm({message:a.default.t("chat_integration.channel_delete_confirm"),didConfirm:()=>e.destroyRecord().then((()=>this.args.refresh())).catch(r.popupAjaxError)})}},c=p(s.prototype,"dialog",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(s.prototype,"siteSettings",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(s.prototype,"deleteChannel",[o.action],Object.getOwnPropertyDescriptor(s.prototype,"deleteChannel"),s.prototype),s)
e.default=g,(0,t.setComponentTemplate)(h,g)})),define("discourse/plugins/discourse-chat-integration/admin/components/channel-param-row",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@glimmer/tracking","I18n"],(function(e,t,n,i,r,a,l){"use strict"
var o,s
function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=(0,n.createTemplateFactory)({id:"soLUHHI5",block:'[[[10,"tr"],[14,0,"input"],[12],[1,"\\n  "],[10,"td"],[14,0,"label"],[12],[1,"\\n    "],[10,"label"],[15,"for",[29,["param-",[30,1,["key"]]]]],[12],[1,"\\n      "],[1,[28,[35,0],[[28,[37,1],["chat_integration.provider.",[30,2,["channel","provider"]],".param.",[30,1,["key"]],".title"],null]],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,"td"],[12],[1,"\\n    "],[8,[39,2],[[16,3,[28,[37,1],["param-",[30,1,["key"]]],null]],[4,[38,3],["change",[30,0,["updateValue"]]],null]],[["@value"],[[30,0,["inputValue"]]]],null],[1,"\\n\\n    "],[8,[39,4],null,[["@validation"],[[30,0,["validate"]]]],null],[1,"\\n\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n  "],[10,"td"],[12],[13],[1,"\\n  "],[10,"td"],[12],[1,"\\n    "],[10,"label"],[12],[1,"\\n      "],[1,[28,[35,0],[[28,[37,1],["chat_integration.provider.",[30,2,["channel","provider"]],".param.",[30,1,["key"]],".help"],null]],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@param","@model"],false,["i18n","concat","input","on","input-tip"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/channel-param-row.hbs",isStrictMode:!1})
let d=(o=class extends i.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="inputValue",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get validate(){const e=this.args.param.regex,t=new RegExp(e)
return""===this.inputValue?(this.args.isValidParams(!1),r.default.create({failed:!0})):e?t.test(this.inputValue)?(this.args.isValidParams(!0),r.default.create({ok:!0,reason:l.default.t("chat_integration.edit_channel_modal.channel_validation.ok")})):(this.args.isValidParams(!1),r.default.create({failed:!0,reason:l.default.t("chat_integration.edit_channel_modal.channel_validation.fail")})):(this.args.isValidParams(!0),r.default.create({ok:!0}))}updateValue(e){this.args.model.channel.data[this.args.param.key]=e.target.value}},s=c(o.prototype,"inputValue",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.model.channel.data[this.args.param.key]||""}}),c(o.prototype,"updateValue",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"updateValue"),o.prototype),o)
e.default=d,(0,t.setComponentTemplate)(u,d)})),define("discourse/plugins/discourse-chat-integration/admin/components/rule-row",["exports","@ember/component","@ember/template-factory","@ember/object","@glimmer/component","discourse/lib/ajax-error","@ember/service"],(function(e,t,n,i,r,a,l){"use strict"
var o,s
function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=(0,n.createTemplateFactory)({id:"sMPfAvb2",block:'[[[10,"tr"],[12],[1,"\\n  "],[10,"td"],[12],[1,"\\n    "],[1,[30,1,["filterName"]]],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,"td"],[12],[1,"\\n"],[41,[30,0,["isCategory"]],[[[41,[30,1,["category"]],[[[1,"        "],[1,[28,[35,1],[[30,1,["category"]]],[["allowUncategorized","link"],["true","false"]]]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,2],["chat_integration.all_categories"],null]],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["isMention"]],[[[1,"      "],[1,[28,[35,2],["chat_integration.group_mention_template"],[["name"],[[30,1,["group_name"]]]]]],[1,"\\n"]],[]],[[[41,[30,0,["isMessage"]],[[[1,"      "],[1,[28,[35,2],["chat_integration.group_message_template"],[["name"],[[30,1,["group_name"]]]]]],[1,"\\n    "]],[]],null]],[]]]],[]]],[1,"  "],[13],[1,"\\n\\n  "],[10,"td"],[12],[1,"\\n"],[41,[30,0,["siteSettings","tagging_enabled"]],[[[41,[30,1,["tags"]],[[[1,"        "],[1,[30,1,["tags"]]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,2],["chat_integration.all_tags"],null]],[1,"\\n"]],[]]]],[]],null],[1,"  "],[13],[1,"\\n\\n  "],[10,"td"],[12],[1,"\\n    "],[8,[39,3],null,[["@class","@icon","@title","@action","@actionParam"],["edit","pencil-alt","chat_integration.rule_table.edit_rule",[30,2],[30,1]]],null],[1,"\\n\\n    "],[8,[39,3],null,[["@class","@icon","@title","@action","@actionParam"],["delete","far-trash-alt","chat_integration.rule_table.delete_rule",[28,[37,4],[[30,0],[30,0,["delete"]]],null],[30,1]]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["@rule","@edit"],false,["if","category-link","i18n","d-button","action"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/components/rule-row.hbs",isStrictMode:!1})
let d=(o=class extends r.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="siteSettings",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get isCategory(){return"normal"===this.args.rule.type}get isMessage(){return"group_message"===this.args.rule.type}get isMention(){return"group_mention"===this.args.rule.type}delete(e){e.destroyRecord().then((()=>this.args.refresh())).catch(a.popupAjaxError)}},s=c(o.prototype,"siteSettings",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(o.prototype,"delete",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"delete"),o.prototype),o)
e.default=d,(0,t.setComponentTemplate)(u,d)})),define("discourse/plugins/discourse-chat-integration/admin/controllers/admin-plugins-chat-integration-provider",["exports","@ember/controller","discourse/lib/show-modal","@glimmer/tracking","@ember/object"],(function(e,t,n,i,r){"use strict"
var a,l
function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s="admin-plugins-chat-integration-edit-channel",c="admin-plugins-chat-integration-test",u="admin-plugins-chat-integration-edit-rule",d="admin-plugins-chat-integration-channel-error"
let p=(a=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="modalShowing",i=this,(n=l)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get anyErrors(){const e=this.model.channels
let t=!1
return e.forEach((e=>{e.error_key&&(t=!0)})),t}triggerModal(e,t){this.modalShowing=!0,(0,n.default)(t,{model:e,admin:!0})}createChannel(){return this.triggerModal({channel:this.store.createRecord("channel",{provider:this.model.provider.id,data:{}}),provider:this.model.provider},s)}editChannel(e){return this.triggerModal({channel:e,provider:this.model.provider},s)}testChannel(e){return this.triggerModal({channel:e},c)}createRule(e){return this.triggerModal({rule:this.store.createRecord("rule",{channel_id:e.id,channel:e}),channel:e,provider:this.model.provider,groups:this.model.groups},u)}editRuleWithChannel(e,t){return this.triggerModal({rule:e,channel:t,provider:this.model.provider,groups:this.model.groups},u)}showError(e){return this.triggerModal({channel:e},d)}refresh(){this.send("refreshProvider")}},l=o(a.prototype,"modalShowing",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o(a.prototype,"createChannel",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"createChannel"),a.prototype),o(a.prototype,"editChannel",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"editChannel"),a.prototype),o(a.prototype,"testChannel",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"testChannel"),a.prototype),o(a.prototype,"createRule",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"createRule"),a.prototype),o(a.prototype,"editRuleWithChannel",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"editRuleWithChannel"),a.prototype),o(a.prototype,"showError",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"showError"),a.prototype),o(a.prototype,"refresh",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"refresh"),a.prototype),a)
e.default=p})),define("discourse/plugins/discourse-chat-integration/admin/controllers/admin-plugins-chat-integration",["exports","@ember/controller"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{}e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-integration-edit-channel",["exports","@ember/controller","discourse/mixins/modal-functionality","discourse/lib/ajax-error","@ember/object","@glimmer/tracking"],(function(e,t,n,i,r,a){"use strict"
var l,o
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(l=class extends(t.default.extend(n.default)){constructor(){var e,t,n,i
super(...arguments),e=this,t="validParams",i=this,(n=o)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}isValidParams(e){return this.validParams=e}handleKeyUp(e){"Enter"===e.code&&this.validParams&&this.save()}cancel(){this.send("closeModal")}save(){this.validParams&&this.model.channel.save().then((()=>{this.send("closeModal")})).catch(i.popupAjaxError)}},o=s(l.prototype,"validParams",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(l.prototype,"isValidParams",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"isValidParams"),l.prototype),s(l.prototype,"handleKeyUp",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"handleKeyUp"),l.prototype),s(l.prototype,"cancel",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"cancel"),l.prototype),s(l.prototype,"save",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"save"),l.prototype),l)
e.default=c})),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-integration-edit-rule",["exports","@ember/controller","discourse/mixins/modal-functionality","discourse/lib/ajax-error","@glimmer/tracking","@ember/object","@ember/service"],(function(e,t,n,i,r,a,l){"use strict"
var o,s,c
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(o=class extends(t.default.extend(n.default)){constructor(){super(...arguments),u(this,"siteSettings",s,this),u(this,"saveDisabled",c,this)}get showCategory(){return"normal"===this.model.rule.type}get currentRuleType(){return this.model.rule.type}save(e){this.saveDisabled||e.save().then((()=>this.send("closeModal"))).catch(i.popupAjaxError)}handleKeyUp(e){"Enter"===e.code&&this.save()}onChangeRuleType(e){this.model.rule.type=e,this.currentRuleType=e,this.showCategory="normal"===e}},s=d(o.prototype,"siteSettings",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=d(o.prototype,"saveDisabled",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d(o.prototype,"save",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),d(o.prototype,"handleKeyUp",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"handleKeyUp"),o.prototype),d(o.prototype,"onChangeRuleType",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"onChangeRuleType"),o.prototype),o)
e.default=p})),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-integration-test",["exports","@ember/controller","@ember/object/computed","I18n","discourse/mixins/modal-functionality","discourse/lib/ajax","discourse/lib/ajax-error","@ember/object","@glimmer/tracking"],(function(e,t,n,i,r,a,l,o,s){"use strict"
var c,u,d,p
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(c=(0,n.not)("model.topic_id"),u=class extends(t.default.extend(r.default)){constructor(){super(...arguments),h(this,"loading",d,this),h(this,"sendDisabled",p,this)}handleKeyUp(e){"Enter"!==e.code||this.sendDisabled||this.send()}send(){this.sendDisabled||(this.loading=!0,(0,a.ajax)("/admin/plugins/chat-integration/test",{data:{channel_id:this.model.channel.id,topic_id:this.model.topic_id},type:"POST"}).then((()=>{this.loading=!1,this.flash(i.default.t("chat_integration.test_modal.success"),"success")})).catch(l.popupAjaxError))}},d=g(u.prototype,"loading",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=g(u.prototype,"sendDisabled",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"handleKeyUp",[o.action],Object.getOwnPropertyDescriptor(u.prototype,"handleKeyUp"),u.prototype),g(u.prototype,"send",[o.action],Object.getOwnPropertyDescriptor(u.prototype,"send"),u.prototype),u)
e.default=m})),define("discourse/plugins/discourse-chat-integration/admin/models/channel",["exports","discourse/models/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{updateProperties(){return this.getProperties(["data"])}createProperties(){return this.getProperties(["provider","data"])}}e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/models/provider",["exports","discourse/models/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{}e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/models/rule",["exports","I18n","discourse/models/rest","discourse/models/category","@glimmer/tracking"],(function(e,t,n,i,r){"use strict"
var a,l,o,s,c,u,d
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var i=n.call(e,t||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(a=class extends n.default{constructor(){super(...arguments),p(this,"type",l,this),p(this,"category_id",o,this),p(this,"tags",s,this),p(this,"channel_id",c,this),p(this,"filter",u,this),p(this,"error_key",d,this),h(this,"available_types",[{id:"normal",name:t.default.t("chat_integration.type.normal")},{id:"group_message",name:t.default.t("chat_integration.type.group_message")},{id:"group_mention",name:t.default.t("chat_integration.type.group_mention")}])}get available_filters(){const e=[]
return"slack"===this.channel.provider&&e.push({id:"thread",name:t.default.t("chat_integration.filter.thread"),icon:"chevron-right"}),e.push({id:"watch",name:t.default.t("chat_integration.filter.watch"),icon:"exclamation-circle"},{id:"follow",name:t.default.t("chat_integration.filter.follow"),icon:"circle"},{id:"tag_added",name:t.default.t("chat_integration.filter.tag_added"),icon:"tag"},{id:"mute",name:t.default.t("chat_integration.filter.mute"),icon:"times-circle"}),e}get category(){const e=this.category_id
return!!e&&i.default.findById(e)}get filterName(){return t.default.t(`chat_integration.filter.${this.filter}`)}updateProperties(){return this.getProperties(["type","category_id","group_id","tags","filter"])}createProperties(){return this.getProperties(["type","channel_id","category_id","group_id","tags","filter"])}},l=g(a.prototype,"type",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"normal"}}),o=g(a.prototype,"category_id",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=g(a.prototype,"tags",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=g(a.prototype,"channel_id",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=g(a.prototype,"filter",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"watch"}}),d=g(a.prototype,"error_key",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a)
e.default=m})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration-index",["exports","discourse/routes/discourse"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{afterModel(e){e.totalRows>0&&this.transitionTo("adminPlugins.chat-integration.provider",e.get("firstObject").name)}}e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration-provider",["exports","discourse/routes/discourse","discourse/models/group","@ember/object","rsvp"],(function(e,t,n,i,r){"use strict"
var a
function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(l((a=class extends t.default{model(e){return r.default.hash({channels:this.store.findAll("channel",{provider:e.provider}),provider:this.modelFor("admin-plugins-chat-integration").findBy("id",e.provider),groups:n.default.findAll()}).then((e=>(e.channels.forEach((e=>{e.set("rules",e.rules.map((t=>((t=this.store.createRecord("rule",t)).set("channel",e),t))))})),e)))}serialize(e){return{provider:e.provider.get("id")}}closeModal(){return this.controller.modalShowing&&(this.refresh(),this.controller.modalShowing=!1),!0}refreshProvider(){this.refresh()}}).prototype,"closeModal",[i.action],Object.getOwnPropertyDescriptor(a.prototype,"closeModal"),a.prototype),l(a.prototype,"refreshProvider",[i.action],Object.getOwnPropertyDescriptor(a.prototype,"refreshProvider"),a.prototype),a)
e.default=o})),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-integration",["exports","discourse/routes/discourse","@ember/object"],(function(e,t,n){"use strict"
var i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(i=class extends t.default{model(){return this.store.findAll("provider")}showSettings(){this.transitionTo("adminSiteSettingsCategory","plugins",{queryParams:{filter:"chat_integration"}})}},a=i.prototype,l="showSettings",o=[n.action],s=Object.getOwnPropertyDescriptor(i.prototype,"showSettings"),c=i.prototype,u={},Object.keys(s).forEach((function(e){u[e]=s[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=o.slice().reverse().reduce((function(e,t){return t(a,l,e)||e}),u),c&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(c):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(a,l,u),u=null),i)
var a,l,o,s,c,u
e.default=r})),define("discourse/plugins/discourse-chat-integration/admin/templates/modal/admin-plugins-chat-integration-channel-error",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"kP83t2My",block:'[[[8,[39,0],null,[["@id"],["chat_integration_error_modal"]],[["default"],[[[[1,"\\n  "],[10,"h4"],[12],[1,[28,[35,1],[[33,2,["error_key"]]],null]],[13],[1,"\\n  "],[10,"pre"],[12],[1,[33,2,["error_info"]]],[13],[1,"\\n"]],[]]]]]],[],false,["d-modal-body","i18n","model"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/templates/modal/admin-plugins-chat-integration-channel-error.hbs",isStrictMode:!1})
e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/templates/modal/admin-plugins-chat-integration-edit-channel",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"9Ionjqge",block:'[[[8,[39,0],[[4,[38,1],["keyup",[30,0,["handleKeyUp"]]],null]],[["@title","@id"],["chat_integration.edit_channel_modal.title","chat-integration-edit-channel-modal"]],[["default"],[[[[1,"\\n  "],[10,0],[12],[1,"\\n    "],[11,"form"],[4,[38,2],[[30,0],"save"],[["on"],["submit"]]],[12],[1,"\\n      "],[10,"table"],[12],[1,"\\n        "],[10,"tbody"],[12],[1,"\\n          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","provider"],[12],[1,"\\n                "],[1,[28,[35,3],["chat_integration.edit_channel_modal.provider"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[1,[28,[35,3],[[28,[37,4],["chat_integration.provider.",[33,5,["channel","provider"]],".title"],null]],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[42,[28,[37,7],[[28,[37,7],[[30,0,["model","provider","channel_parameters"]]],null]],null],null,[[[1,"            "],[8,[39,8],null,[["@param","@model","@validParams","@isValidParams"],[[30,1],[30,0,["model"]],[30,0,["validParams"]],[30,0,["isValidParams"]]]],null],[1,"\\n"]],[1]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[10,0],[14,0,"modal-footer"],[12],[1,"\\n  "],[8,[39,9],null,[["@class","@id","@title","@label","@action","@disabled"],["btn-primary btn-large","save-channel","chat_integration.edit_channel_modal.save","chat_integration.edit_channel_modal.save",[28,[37,2],[[30,0],"save"],null],[28,[37,10],[[30,0,["validParams"]]],null]]],null],[1,"\\n\\n  "],[8,[39,9],null,[["@class","@title","@label","@action"],["btn-large","chat_integration.edit_channel_modal.cancel","chat_integration.edit_channel_modal.cancel",[28,[37,2],[[30,0],"cancel"],null]]],null],[1,"\\n"],[13]],["param"],false,["d-modal-body","on","action","i18n","concat","model","each","-track-array","channel-param-row","d-button","not"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/templates/modal/admin-plugins-chat-integration-edit-channel.hbs",isStrictMode:!1})
e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/templates/modal/admin-plugins-chat-integration-edit-rule",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"R/cL6Pmr",block:'[[[8,[39,0],[[4,[38,1],["keyup",[30,0,["handleKeyUp"]]],null]],[["@title","@id"],["chat_integration.edit_rule_modal.title","chat-integration-edit-rule_modal"]],[["default"],[[[[1,"\\n  "],[10,0],[12],[1,"\\n    "],[11,"form"],[4,[38,2],[[30,0],"save"],[["on"],["submit"]]],[12],[1,"\\n      "],[10,"table"],[12],[1,"\\n        "],[10,"tbody"],[12],[1,"\\n          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","provider"],[12],[1,"\\n                "],[1,[28,[35,3],["chat_integration.edit_rule_modal.provider"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[1,[28,[35,3],[[28,[37,4],["chat_integration.provider.",[30,0,["model","channel","provider"]],".title"],null]],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","channel"],[12],[1,"\\n                "],[1,[28,[35,3],["chat_integration.edit_rule_modal.channel"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[8,[39,5],null,[["@provider","@channel"],[[30,0,["model","provider"]],[30,0,["model","channel"]]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","filter"],[12],[1,"\\n                "],[1,[28,[35,3],["chat_integration.edit_rule_modal.type"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[8,[39,6],null,[["@name","@content","@value","@onChange"],["type",[30,0,["model","rule","available_types"]],[30,0,["model","rule","type"]],[28,[37,2],[[30,0],[28,[37,7],[[30,0,["model","rule","type"]]],null]],null]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[10,"label"],[12],[1,"\\n                "],[1,[28,[35,3],["chat_integration.edit_rule_modal.instructions.type"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","filter"],[12],[1,"\\n                "],[1,[28,[35,3],["chat_integration.edit_rule_modal.filter"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[8,[39,6],null,[["@name","@content","@value","@onChange"],["filter",[30,0,["model","rule","available_filters"]],[30,0,["model","rule","filter"]],[28,[37,2],[[30,0],[28,[37,7],[[30,0,["model","rule","filter"]]],null]],null]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n            "],[10,"td"],[12],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[10,"label"],[12],[1,"\\n                "],[1,[28,[35,3],["chat_integration.edit_rule_modal.instructions.filter"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[28,[37,9],[[30,0,["model","rule","type"]],"normal"],null],[[[1,"            "],[10,"tr"],[14,0,"input"],[12],[1,"\\n              "],[10,"td"],[14,0,"label"],[12],[1,"\\n                "],[10,"label"],[14,"for","category"],[12],[1,"\\n                  "],[1,[28,[35,3],["chat_integration.edit_rule_modal.category"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n              "],[10,"td"],[12],[1,"\\n                "],[8,[39,10],null,[["@name","@options","@value","@onChange"],["category",[28,[37,11],null,[["none"],["chat_integration.all_categories"]]],[30,0,["model","rule","category_id"]],[28,[37,2],[[30,0],[28,[37,7],[[30,0,["model","rule","category_id"]]],null]],null]]],null],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n              "],[10,"td"],[12],[13],[1,"\\n              "],[10,"td"],[12],[1,"\\n                "],[10,"label"],[12],[1,"\\n                  "],[1,[28,[35,3],["chat_integration.edit_rule_modal.instructions.category"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[1,"            "],[10,"tr"],[14,0,"input"],[12],[1,"\\n              "],[10,"td"],[14,0,"label"],[12],[1,"\\n                "],[10,"label"],[14,"for","group"],[12],[1,"\\n                  "],[1,[28,[35,3],["chat_integration.edit_rule_modal.group"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n              "],[10,"td"],[12],[1,"\\n                "],[8,[39,6],null,[["@content","@valueProperty","@value","@onChange","@options"],[[30,0,["model","groups"]],"id",[30,0,["model","rule","group_id"]],[28,[37,2],[[30,0],[28,[37,7],[[30,0,["model","rule","group_id"]]],null]],null],[28,[37,11],null,[["none"],["chat_integration.choose_group"]]]]],null],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n              "],[10,"td"],[12],[13],[1,"\\n              "],[10,"td"],[12],[1,"\\n                "],[10,"label"],[12],[1,"\\n                  "],[1,[28,[35,3],["chat_integration.edit_rule_modal.instructions.group"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]]],[1,"\\n"],[41,[30,0,["siteSettings","tagging_enabled"]],[[[1,"            "],[10,"tr"],[14,0,"input"],[12],[1,"\\n              "],[10,"td"],[14,0,"label"],[12],[1,"\\n                "],[10,"label"],[14,"for","tags"],[12],[1,"\\n                  "],[1,[28,[35,3],["chat_integration.edit_rule_modal.tags"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n              "],[10,"td"],[12],[1,"\\n                "],[8,[39,12],null,[["@placeholderKey","@name","@tags","@everyTag","@onChange"],["chat_integration.all_tags","tags",[30,0,["model","rule","tags"]],"true",[28,[37,2],[[30,0],[28,[37,7],[[30,0,["model","rule","tags"]]],null]],null]]],null],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"tr"],[14,0,"chat-instructions"],[12],[1,"\\n              "],[10,"td"],[12],[13],[1,"\\n              "],[10,"td"],[12],[1,"\\n                "],[10,"label"],[12],[1,"\\n                  "],[1,[28,[35,3],["chat_integration.edit_rule_modal.instructions.tags"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[10,0],[14,0,"modal-footer"],[12],[1,"\\n  "],[8,[39,13],null,[["@id","@class","@title","@label","@action","@actionParam","@disabled"],["save-rule","btn-primary btn-large","chat_integration.edit_rule_modal.save","chat_integration.edit_rule_modal.save",[28,[37,2],[[30,0],"save"],null],[30,0,["model","rule"]],[30,0,["saveDisabled"]]]],null],[1,"\\n\\n  "],[8,[39,13],null,[["@class","@title","@label","@action"],["btn-large","chat_integration.edit_rule_modal.cancel","chat_integration.edit_rule_modal.cancel",[28,[37,14],["closeModal"],null]]],null],[1,"\\n"],[13]],[],false,["d-modal-body","on","action","i18n","concat","channel-data","combo-box","mut","if","eq","category-chooser","hash","tag-chooser","d-button","route-action"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/templates/modal/admin-plugins-chat-integration-edit-rule.hbs",isStrictMode:!1})
e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/templates/modal/admin-plugins-chat-integration-test",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"RdNtdD1o",block:'[[[8,[39,0],[[4,[38,1],["keyup",[30,0,["handleKeyUp"]]],null]],[["@title","@id"],["chat_integration.test_modal.title","chat_integration_test_modal"]],[["default"],[[[[1,"\\n  "],[10,0],[12],[1,"\\n    "],[11,"form"],[4,[38,2],[[30,0],"send"],[["on"],["submit"]]],[12],[1,"\\n      "],[10,"table"],[12],[1,"\\n        "],[10,"tbody"],[12],[1,"\\n          "],[10,"tr"],[14,0,"input"],[12],[1,"\\n            "],[10,"td"],[14,0,"label"],[12],[1,"\\n              "],[10,"label"],[14,"for","channel"],[12],[1,"\\n                "],[1,[28,[35,3],["chat_integration.test_modal.topic"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,"td"],[12],[1,"\\n              "],[8,[39,4],null,[["@selectedTopicId"],[[30,0,["model","topic_id"]]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[10,0],[14,0,"modal-footer"],[12],[1,"\\n  "],[8,[39,5],null,[["@condition"],[[30,0,["loading"]]]],[["default"],[[[[1,"\\n    "],[8,[39,6],null,[["@class","@id","@title","@action","@label","@disabled"],["btn-primary btn-large","send-test","chat_integration.test_modal.send",[28,[37,2],[[30,0],"send"],null],"chat_integration.test_modal.send",[30,0,["sendDisabled"]]]],null],[1,"\\n    "],[8,[39,6],null,[["@class","@title","@action","@label"],["btn-large","chat_integration.test_modal.close",[28,[37,7],["closeModal"],null],"chat_integration.test_modal.close"]],null],[1,"\\n  "]],[]]]]],[1,"\\n"],[13]],[],false,["d-modal-body","on","action","i18n","choose-topic","conditional-loading-spinner","d-button","route-action"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/templates/modal/admin-plugins-chat-integration-test.hbs",isStrictMode:!1})
e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/templates/plugins-chat-integration-provider",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"bZnQn5DT",block:'[[[41,[30,0,["anyErrors"]],[[[1,"  "],[10,0],[14,0,"error"],[12],[1,"\\n    "],[1,[28,[35,1],["exclamation-triangle"],null]],[1,"\\n    "],[10,1],[14,0,"error-message"],[12],[1,"\\n      "],[1,[28,[35,2],["chat_integration.channels_with_errors"],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,0,["model","channels","content"]]],null]],null],null,[[[1,"  "],[8,[39,5],null,[["@channel","@provider","@refresh","@editChannel","@test","@createRule","@editRuleWithChannel","@showError"],[[30,1],[30,0,["model","provider"]],[28,[37,6],[[30,0],"refresh"],null],[28,[37,6],[[30,0],"editChannel"],null],[28,[37,6],[[30,0],"testChannel"],null],[28,[37,6],[[30,0],"createRule"],null],[28,[37,6],[[30,0],"editRuleWithChannel"],null],[28,[37,6],[[30,0],"showError"],null]]],null],[1,"\\n"]],[1]],null],[1,"\\n"],[10,0],[14,0,"table-footer"],[12],[1,"\\n  "],[10,0],[14,0,"pull-right"],[12],[1,"\\n    "],[8,[39,7],null,[["@id","@icon","@title","@label","@action"],["create-channel","plus","chat_integration.create_channel","chat_integration.create_channel",[28,[37,6],[[30,0],"createChannel",[30,0,["model","provider"]]],null]]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["channel"],false,["if","d-icon","i18n","each","-track-array","channel-details","action","d-button"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/templates/plugins-chat-integration-provider.hbs",isStrictMode:!1})
e.default=n})),define("discourse/plugins/discourse-chat-integration/admin/templates/plugins-chat-integration",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.createTemplateFactory)({id:"RMDkq221",block:'[[[10,0],[14,1,"admin-plugin-chat"],[12],[1,"\\n  "],[10,0],[14,0,"admin-controls"],[12],[1,"\\n    "],[10,0],[14,0,"admin-controls-chat-providers"],[12],[1,"\\n      "],[10,"ul"],[14,0,"nav nav-pills"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,0,["model"]]],null]],null],null,[[[1,"          "],[8,[39,2],null,[["@route","@routeParam","@label"],["adminPlugins.chat-integration.provider",[30,1,["name"]],[28,[37,3],["chat_integration.provider.",[30,1,["name"]],".title"],null]]],null],[1,"\\n"]],[1]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[8,[39,4],null,[["@icon","@title","@label","@action"],["cog","chat_integration.settings","chat_integration.settings",[28,[37,5],["showSettings"],null]]],null],[1,"\\n  "],[13],[1,"\\n\\n"],[41,[51,[30,0,["model","totalRows"]]],[[[1,"    "],[1,[28,[35,7],["chat_integration.no_providers"],null]],[1,"\\n"]],[]],null],[1,"\\n  "],[46,[28,[37,9],null,null],null,null,null],[1,"\\n"],[13]],["provider"],false,["each","-track-array","nav-item","concat","d-button","route-action","unless","i18n","component","-outlet"]]',moduleName:"discourse/plugins/discourse-chat-integration/admin/templates/plugins-chat-integration.hbs",isStrictMode:!1})
e.default=n})),define("discourse/plugins/discourse-chat-integration/discourse/public-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.route("transcript",{path:"/chat-transcript/:secret"})}})),define("discourse/plugins/discourse-chat-integration/discourse/routes/transcript",["exports","discourse/lib/ajax","discourse/lib/ajax-error","discourse/routes/discourse","@ember/runloop"],(function(e,t,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class a extends i.default{model(e){if(this.currentUser){const i=e.secret
this.replaceWith("discovery.latest").then((e=>{this.controllerFor("navigation/default").get("canCreateTopic")&&(0,r.next)((()=>{(0,t.ajax)(`chat-transcript/${i}`).then((t=>{e.send("createNewTopicViaParams",null,t.content,null,null,null)}),n.popupAjaxError)}))}))}else this.session.set("shouldRedirectToUrl",window.location.href),this.replaceWith("login")}}e.default=a}))

//# sourceMappingURL=discourse-chat-integration-edb9f3ec5bb9f5ba1577326b8ad6c3371357aafcc1acd92065f9e516a4ad61c5.map
//!

;
